!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).SuperMarquee=t()}(this,function(){"use strict";const templateHorizontal=document.createElement("template"),templateVertical=document.createElement("template");function interpolate(e,t){const i={"&":"&amp;","<":"&lt;",">":"&gt;","(":"%28",")":"%29"};var n=Object.keys(t),t=Object.values(t).map(e=>e.toString().replace(/[&<>\(\)]/g,e=>i[e]||e));return new Function(...n,`return \`${e}\``)(...t)}const instanceId="not-used";templateHorizontal.innerHTML=`
    <style>
        .fader-left-${instanceId} {
            --faderLeft: 0%;
            --faderLeftGradient : linear-gradient(to right, #ffffff, transparent);
        }
        .fader-left-${instanceId}::before {
            display: block;
            content: '';
            width: var(--faderLeft);
            height: 100%;
            position: absolute;
            top: 0;
            z-index: 1;
            pointer-events: none;
            left: 0;
            background-image:  var( --faderLeftGradient );
        }
        .fader-right-${instanceId} {
            --faderRight: 0%;
            --faderRightGradient : linear-gradient(to right, #ffffff, transparent);
        }
        .fader-right-${instanceId}::after {
            display: block;
            content: '';
            width: var(--faderRight);
            height: 100%;
            position: absolute;
            top: 0;
            z-index: 1;
            pointer-events: none;
            right: 0;
            background-image:  var( --faderRightGradient );
        }
    </style>
    <div class="supermarquee-container"
         data-instance-id="${instanceId}"    
         style="width: 100%; display: block;pointer-events: all; overflow: hidden;visibility: hidden;">
        <div class="supermarquee-perspective">
            <div class="supermarquee-outer-wrapper"
                 style="transform-style: preserve-3d;-webkit-transform-style: preserve-3d;overflow: hidden;box-sizing: content-box;">
                <div class="supermarquee-inner-container"
                     style="display: flex;flex: 0 0 auto;white-space: nowrap;height: inherit;">
                    <div class="supermarquee-item"
                         style="display: flex;flex: 0 0 auto;"></div>
                    <div class="supermarquee-item-clone"
                         style="display: flex;flex: 0 0 auto;"></div>
                </div>
            </div>
        </div>
    </div>
`;const tmplHori=' <style>\n        .fader-left-${instanceId} {\n            --faderLeft: 0%;\n            --faderLeftGradient : linear-gradient(to right, #ffffff, transparent);\n        }\n        .fader-left-${instanceId}::before {\n            display: block;\n            content: \'\';\n            width: var(--faderLeft);\n            height: 100%;\n            position: absolute;\n            top: 0;\n            z-index: 1;\n            pointer-events: none;\n            left: 0;\n            background-image:  var( --faderLeftGradient );\n        }\n        .fader-right-${instanceId} {\n            --faderRight: 0%;\n            --faderRightGradient : linear-gradient(to right, #ffffff, transparent);\n        }\n        .fader-right-${instanceId}::after {\n            display: block;\n            content: \'\';\n            width: var(--faderRight);\n            height: 100%;\n            position: absolute;\n            top: 0;\n            z-index: 1;\n            pointer-events: none;\n            right: 0;\n            background-image:  var( --faderRightGradient );\n        }\n        .fader-top-${instanceId} {\n            --faderTop: 0%;\n            --faderTopGradient : linear-gradient(180deg, transparent, #ffffff);\n        }\n        .fader-top-${instanceId}::before {\n            display: block;\n            content: \'\';\n            height: var(--faderTop);\n            top: 0;\n            left : 0;\n            right: 0;\n            position: absolute;\n            z-index: 1;\n            pointer-events: none;\n            background-image: var( --faderTopGradient );\n        } \n        .fader-bottom-${instanceId} {\n            --faderBottom: 0%;\n            --faderBottomGradient : linear-gradient(180deg, transparent, #ffffff);\n        }\n        .fader-bottom-${instanceId}::after {\n            display: block;\n            content: \'\';\n            height: var(--faderBottom);\n            bottom: 0;\n            left : 0;\n            right: 0;\n            position: absolute;\n            z-index: 1;\n            pointer-events: none;\n            background-image: var( --faderBottomGradient );\n        }  \n    </style>\n    <div class="supermarquee-container"\n         data-instance-id="${instanceId}"    \n         style="width: 100%; display: block;pointer-events: all; overflow: hidden;visibility: hidden;">\n        <div class="supermarquee-perspective">\n            <div class="supermarquee-outer-wrapper"\n                 style="transform-style: preserve-3d;-webkit-transform-style: preserve-3d;overflow: hidden;box-sizing: content-box;">\n                <div class="supermarquee-inner-container"\n                     style="display: flex;flex: 0 0 auto;white-space: nowrap;height: inherit;">\n                    <div class="supermarquee-item"\n                         style="display: flex;flex: 0 0 auto;"></div>\n                    <div class="supermarquee-item-clone"\n                         style="display: flex;flex: 0 0 auto;"></div>\n                </div>\n            </div>\n        </div>\n    </div>';function getHorizontal(e){e=interpolate(tmplHori.toString().trim(),e);const t=document.createElement("template");return t.innerHTML=e,t}templateVertical.innerHTML=`
    <style>
        .fader-top-${instanceId} {
            --faderTop: 0%;
            --faderTopGradient : linear-gradient(180deg, transparent, #ffffff);
        }
        .fader-top-${instanceId}::before {
            display: block;
            content: '';
            height: var(--faderTop);
            top: 0;
            left : 0;
            right: 0;
            position: absolute;
            z-index: 1;
            pointer-events: none;
            background-image: var( --faderTopGradient );
        } 
        .fader-bottom-${instanceId} {
            --faderBottom: 0%;
            --faderBottomGradient : linear-gradient(180deg, transparent, #ffffff);
        }
        .fader-bottom-${instanceId}::after {
            display: block;
            content: '';
            height: var(--faderBottom);
            bottom: 0;
            left : 0;
            right: 0;
            position: absolute;
            z-index: 1;
            pointer-events: none;
            background-image: var( --faderBottomGradient );
        }  
    </style>
    
    <div class="supermarquee-container"
         style="width: 100%; display: block;pointer-events: all;height: inherit;overflow: hidden;visibility: hidden;">
        <div class="supermarquee-perspective">        
            <div class="supermarquee-outer-wrapper"
                 style="transform-style: preserve-3d;-webkit-transform-style: preserve-3d;overflow: hidden;box-sizing: content-box;width: inherit;height: inherit;">
                <div class="supermarquee-inner-container"
                     style="display: inline-block;width: inherit;max-height: 100%;height: inherit;">
                    <div class="supermarquee-item" style="display: block;"></div>
                    <div class="supermarquee-item-clone" style="display: block;"></div>
                </div>
            </div>
        </div>
    </div>
`;const tmplVert='    <style>\n        .fader-top-${instanceId} {\n            --faderTop: 0%;\n            --faderTopGradient : linear-gradient(180deg, transparent, #ffffff);\n        }\n        .fader-top-${instanceId}::before {\n            display: block;\n            content: \'\';\n            height: var(--faderTop);\n            top: 0;\n            left : 0;\n            right: 0;\n            position: absolute;\n            z-index: 1;\n            pointer-events: none;\n            background-image: var( --faderTopGradient );\n        } \n        .fader-bottom-${instanceId} {\n            --faderBottom: 0%;\n            --faderBottomGradient : linear-gradient(180deg, transparent, #ffffff);\n        }\n        .fader-bottom-${instanceId}::after {\n            display: block;\n            content: \'\';\n            height: var(--faderBottom);\n            bottom: 0;\n            left : 0;\n            right: 0;\n            position: absolute;\n            z-index: 1;\n            pointer-events: none;\n            background-image: var( --faderBottomGradient );\n        }  \n    </style>\n    \n    <div class="supermarquee-container"\n         style="width: 100%; display: block;pointer-events: all;height: inherit;overflow: hidden;visibility: hidden;">\n        <div class="supermarquee-perspective">        \n            <div class="supermarquee-outer-wrapper"\n                 style="transform-style: preserve-3d;-webkit-transform-style: preserve-3d;overflow: hidden;box-sizing: content-box;width: inherit;height: inherit;">\n                <div class="supermarquee-inner-container"\n                     style="display: inline-block;width: inherit;max-height: 100%;height: inherit;">\n                    <div class="supermarquee-item" style="display: block;"></div>\n                    <div class="supermarquee-item-clone" style="display: block;"></div>\n                </div>\n            </div>\n        </div>\n    </div>';function getVertical(e){e=interpolate(tmplVert.toString().trim(),e);const t=document.createElement("template");return t.innerHTML=e,t}const Util={forceNbspInHtml:function(e){var t=new RegExp("( )(?!([^<]+)?>)","gi");return e.replace(t,"&nbsp;")},generateUUID:function(){var e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,o=4294967295*Math.random()|0;const s=e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&i]+e[i>>8&255]+"-"+e[i>>16&15|64]+e[i>>24&255]+"-"+e[63&n|128]+e[n>>8&255]+"-"+e[n>>16&255]+e[n>>24&255]+e[255&o]+e[o>>8&255]+e[o>>16&255]+e[o>>24&255];return s.toLowerCase()},hexToRbg:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n});e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}};function Configuration(e={}){this._gappedScrollingEnabled=!1,this.easingValue=.025,this._currentSpeed=0,this.setSpeed=function(e){this.type===Configuration.TYPE_HORIZONTAL?-1<Object.keys(Configuration.SPEED_HORIZONTAL).indexOf(e)?this.speed=+Configuration.SPEED_HORIZONTAL[e]:this.speed=0<+e?+e:+Configuration.SPEED_HORIZONTAL[Configuration.DEFAULT.speed]:-1<Object.keys(Configuration.SPEED_VERTICAL).indexOf(e)?this.speed=+Configuration.SPEED_VERTICAL[e]:this.speed=0<+e?+e:+Configuration.SPEED_VERTICAL[Configuration.DEFAULT.speed]},this.hasLicense=function(){return null!==this.license&&void 0!==this.license},this.getSpeedNoEasing=function(){return this.speed}.bind(this),this.getSpeedWithEasing=function(){return this.easingValue<1&&(this._currentSpeed=(1-this.easingValue)*this._currentSpeed+this.easingValue*this.speed),this._currentSpeed}.bind(this),this.getSpeed=this.getSpeedNoEasing,this.setContent=function(e){e&&0<e.length?this.content=e:this.content="SuperMarquee by SuperPlug.in is Super !!!",this.content=this.content.replaceAll("> ",">&nbsp;"),this.content=this.content.replaceAll(" <","&nbsp;<"),Configuration.MODE_PINGPONG===this.mode&&Configuration.TYPE_HORIZONTAL===this.type&&(this.content=this.spacer+this.content),this.content+=this.spacer},this.setPerspective=function(e=null){var t=Object.keys(Configuration.PERSPECTIVE_DEFAULT);let i={};if(e)try{i=JSON.parse(e)}catch(e){i={}}for(let e=0;e<t.length;e++)i.hasOwnProperty(t[e])?this.perspective[t[e]]=i[t[e]]:this.perspective[t[e]]=Configuration.PERSPECTIVE_DEFAULT[t[e]]},this.setFader=function(t=null){var i=Object.keys(this.fader);let n=null;if("string"==typeof t||t instanceof String)try{t=JSON.parse(t)}catch(e){t=null}if("object"!=typeof t||Array.isArray(t)||null===t||(n=t),null===n)return!1;for(let e=0;e<i.length;e++)n.hasOwnProperty(i[e])&&(n[i[e]].hasOwnProperty("size")&&(this.fader[i[e]].size=parseFloat(n[i[e]].size)),n[i[e]].hasOwnProperty("colorFrom")&&(this.fader[i[e]].colorFrom=n[i[e]].colorFrom),n[i[e]].hasOwnProperty("colorFromAlpha")&&(this.fader[i[e]].colorFromAlpha=n[i[e]].colorFromAlpha),n[i[e]].hasOwnProperty("colorTo")&&(this.fader[i[e]].colorTo=n[i[e]].colorTo),n[i[e]].hasOwnProperty("colorToAlpha")&&(this.fader[i[e]].colorToAlpha=n[i[e]].colorToAlpha))},this.setPosition=function(e){-1<Configuration.POSITIONS.indexOf(e)?this.position=e:this.position=Configuration.DEFAULT.position},this.setPauseOnHover=function(e){this.pauseonhover=!(!e||"true"!==e&&"1"!==e&&!0!==e)};var t=e.hasOwnProperty("system")?e.system:null;-1<Configuration.SYSTEMS.indexOf(t)?this.system=t:this.system=Configuration.DEFAULT.system;t=e.hasOwnProperty("license")?e.license:null;this.license=null,t&&4<=t.length&&(this.license=e.license);t=e.hasOwnProperty("type")?e.type:null;-1<Configuration.TYPES.indexOf(t)?this.type=t:this.type=Configuration.DEFAULT.type,this.spacer=e.hasOwnProperty("spacer")?e.spacer:null,this.type===Configuration.TYPE_HORIZONTAL?this.spacer?this.spacer=Util.forceNbspInHtml(this.spacer):this.spacer="&nbsp;":this.spacer||(this.spacer="<br />");t=e.hasOwnProperty("direction")?e.direction:null;-1<Configuration.DIRECTIONS.indexOf(t)?this.direction=t:this.direction=Configuration.DEFAULT.direction;t=e.hasOwnProperty("mode")?e.mode:null;-1<Configuration.MODES.indexOf(t)?this.mode=t:this.mode=Configuration.MODE_CONTINOUS,this.pingPongDelay=e.hasOwnProperty("pingpongdelay")?+e.pingpongdelay:Configuration.PINGPONG_DELAY_DEFAULT;t=e.hasOwnProperty("position")?e.position:null;this.setPosition(t),this.perspective={},this.setPerspective(e.hasOwnProperty("perspective")?e.perspective:null);t=e.hasOwnProperty("speed")?e.speed:null;this.setSpeed(t),this._currentSpeed=this.speed,this.setContent(e.hasOwnProperty("content")?e.content:null);t=e.hasOwnProperty("pauseonhover")?e.pauseonhover:null;this.setPauseOnHover(t);t=e.hasOwnProperty("autostart")?e.autostart:null;this.autostart=!t||"false"!==t&&"0"!==t;t=e.hasOwnProperty("easing")?e.easing:null;!t||"true"!==t&&"1"!==t&&!0!==t?(this.easing=!1,this.getSpeed=this.getSpeedNoEasing):(this.easing=!0,this.getSpeed=this.getSpeedWithEasing),this.rssFeedUrl=e.hasOwnProperty("rssFeedUrl")?e.rssFeedUrl:null,this.rssFeedTemplate=e.hasOwnProperty("rssFeedTemplate")?Util.forceNbspInHtml(e.rssFeedTemplate):this.rssFeedTemplate,this.fader=JSON.parse(JSON.stringify(Configuration.FADER_DEFAULT)),this.setFader(e.hasOwnProperty("fader")?e.fader:null)}function Event(e){const t=e;this.getInstance=function(){return t}}Configuration.SYSTEM_WEBCOMPONENT="webcomponent",Configuration.SYSTEM_JQUERY="jquery",Configuration.SYSTEM_VANILLA="vanilla",Configuration.SYSTEMS=[Configuration.SYSTEM_WEBCOMPONENT,Configuration.SYSTEM_JQUERY,Configuration.SYSTEM_VANILLA],Configuration.TYPE_HORIZONTAL="horizontal",Configuration.TYPE_VERTICAL="vertical",Configuration.TYPES=[Configuration.TYPE_HORIZONTAL,Configuration.TYPE_VERTICAL],Configuration.DIRECTION_LTR="ltr",Configuration.DIRECTION_RTL="rtl",Configuration.DIRECTION_BTT="btt",Configuration.DIRECTION_TTB="ttb",Configuration.DIRECTIONS=[Configuration.DIRECTION_LTR,Configuration.DIRECTION_RTL,Configuration.DIRECTION_BTT,Configuration.DIRECTION_TTB],Configuration.POSITION_CUSTOM="custom",Configuration.POSITION_FIXEDTOP="fixedTop",Configuration.POSITION_FIXEDBOTTOM="fixedBottom",Configuration.POSITIONS=[Configuration.POSITION_CUSTOM,Configuration.POSITION_FIXEDTOP,Configuration.POSITION_FIXEDBOTTOM],Configuration.MODE_CONTINOUS="continuous",Configuration.MODE_GAPPED="gapped",Configuration.MODE_PINGPONG="pingpong",Configuration.MODES=[Configuration.MODE_CONTINOUS,Configuration.MODE_GAPPED,Configuration.MODE_PINGPONG],Configuration.SPEED_SUPERSLOW="superslow",Configuration.SPEED_SLOW="slow",Configuration.SPEED_MEDIUM="medium",Configuration.SPEED_FAST="fast",Configuration.SPEED_SUPERFAST="superfast",Configuration.SPEED_HORIZONTAL={superslow:.0125,slow:.03,medium:.05,fast:.125,superfast:.2},Configuration.SPEED_VERTICAL={superslow:.0125,slow:.03,medium:.05,fast:.125,superfast:.2},Configuration.PERSPECTIVE_DEFAULT={z:"none",originX:50,originY:50,rotateX:0,rotateY:0,rotateZ:0},Configuration.FADER_DEFAULT={left:{size:0,colorFrom:"rgba( 255, 255, 255, 1 )",colorTo:"rgba( 255, 255, 255, 0 )"},right:{size:0,colorFrom:"rgba( 255, 255, 255, 255 )",colorTo:"rgba( 255, 255, 255, 0 )"},top:{size:0,colorFrom:"rgba( 255, 255, 255, 255 )",colorTo:"rgba( 255, 255, 255, 0 )"},bottom:{size:0,colorFrom:"rgba( 255, 255, 255, 255 )",colorTo:"rgba( 255, 255, 255, 0 )"}},Configuration.PINGPONG_DELAY_DEFAULT=2e3,Configuration.DEFAULT={license:null,system:Configuration.SYSTEM_VANILLA,type:Configuration.TYPE_HORIZONTAL,speed:Configuration.SPEED_MEDIUM,direction:Configuration.DIRECTION_LTR,mode:Configuration.MODE_CONTINOUS,position:Configuration.POSITION_CUSTOM,perspective:Configuration.PERSPECTIVE_DEFAULT,pauseonhover:!1,autostart:!0,easing:!1,content:"SuperMarquee By SuperPlug.in Is Super !!!",rssFeedUrl:null,rssFeedTemplate:'<a href="${link}" target="_blank">${title}</a>',pingPongDelay:Configuration.PINGPONG_DELAY_DEFAULT,spacer:null,fader:Configuration.FADER_DEFAULT},Event.prototype.triggerInit=function(){let e=this.getInstance().getRootElement();e.dispatchEvent(new Event("init"))},Event.prototype.triggerStart=function(){let e=this.getInstance().getRootElement();e.dispatchEvent(new Event("start"))},Event.prototype.triggerLoop=function(){let e=this.getInstance().getRootElement();e.dispatchEvent(new Event("loop"))},Event.prototype.triggerPause=function(){let e=this.getInstance().getRootElement();e.dispatchEvent(new Event("pause"))},Event.prototype.triggerResume=function(){let e=this.getInstance().getRootElement();e.dispatchEvent(new Event("resume"))};const TickLogic={fnNoScroll:function(e){},fnHorizontalLtrPingPong:function(e){1===this._pingPongCurrentDirection?(this._currentXPos+=e*this.config.getSpeed(),this._currentXPos+this.dimensions.visibleWidth>this.dimensions.totalScrollItemWidth&&(this._pingPongCurrentDirection=0,this._pingPongNextDirection=-1)):-1===this._pingPongCurrentDirection?(this._currentXPos-=e*this.config.getSpeed(),this._currentXPos<=0&&(this._pingPongCurrentDirection=0,this._pingPongNextDirection=1)):(this._pingPongPauseDelay-=e,this._pingPongPauseDelay<0&&(this._pingPongCurrentDirection=this._pingPongNextDirection,this._pingPongPauseDelay=this.config.pingPongDelay)),this.elems.innerContainer.style.transform="translate3d(-"+this._currentXPos+"px,0,0)"},fnHorizontalRtlPingPong:function(e){1===this._pingPongCurrentDirection?(this._currentXPos-=e*this.config.getSpeed(),this._currentXPos<0&&(this._currentXPos=0,this._pingPongCurrentDirection=0,TickLogic._pingPongNextDirection=-1)):-1===this._pingPongCurrentDirection?(this._currentXPos+=e*this.config.getSpeed(),this._currentXPos>this.dimensions.totalScrollItemWidth-this.dimensions.visibleWidth&&(this._currentXPos=this.dimensions.totalScrollItemWidth-this.dimensions.visibleWidth,this._pingPongCurrentDirection=0,this._pingPongNextDirection=1)):(this._pingPongPauseDelay-=e,this._pingPongPauseDelay<0&&(this._pingPongCurrentDirection=this._pingPongNextDirection,this._pingPongPauseDelay=this.config.pingPongDelay)),this.elems.innerContainer.style.transform="translate3d(-"+this._currentXPos+"px,0,0)"},fnHorizontalTtbPingPong:function(e){1===this._pingPongCurrentDirection?(this._currentYPos-=e*this.config.getSpeed(),this._currentYPos<-(this.dimensions.totalScrollItemHeight-this.dimensions.visibleHeight)&&(this._currentYPos=-(this.dimensions.totalScrollItemHeight-this.dimensions.visibleHeight),this._pingPongCurrentDirection=0,this._pingPongNextDirection=-1)):-1===this._pingPongCurrentDirection?(this._currentYPos+=e*this.config.getSpeed(),0<this._currentYPos&&(this._currentYPos=0,this._pingPongCurrentDirection=0,this._pingPongNextDirection=1)):(this._pingPongPauseDelay-=e,this._pingPongPauseDelay<0&&(this._pingPongCurrentDirection=this._pingPongNextDirection,this._pingPongPauseDelay=this.config.pingPongDelay)),this.elems.innerContainer.style.transform="translate3d(0,"+this._currentYPos+"px, 0)"},fnHorizontalBttPingPong:function(e){1===this._pingPongCurrentDirection?(this._currentYPos+=e*this.config.getSpeed(),0<this._currentYPos&&(this._currentYPos=0,this._pingPongCurrentDirection=0,this._pingPongNextDirection=-1)):-1===this._pingPongCurrentDirection?(this._currentYPos-=e*this.config.getSpeed(),this._currentYPos<-(this.dimensions.totalScrollItemHeight-this.dimensions.visibleHeight)&&(this._currentYPos=-(this.dimensions.totalScrollItemHeight-this.dimensions.visibleHeight),this._pingPongCurrentDirection=0,this._pingPongNextDirection=1)):(this._pingPongPauseDelay-=e,this._pingPongPauseDelay<0&&(this._pingPongCurrentDirection=this._pingPongNextDirection,this._pingPongPauseDelay=this.config.pingPongDelay)),this.elems.innerContainer.style.transform="translate3d(0,"+this._currentYPos+"px, 0)"},fnHorizontalLtr:function(e){this._currentXPos+=e*this.config.getSpeed(),this._currentXPos>this.dimensions.totalScrollItemWidth&&(this._currentXPos=this.dimensions.totalScrollItemWidth-this._currentXPos),this.elems.innerContainer.style.transform="translate3d(-"+this._currentXPos+"px,0,0)"},fnHorizontalRtl:function(e){this._currentXPos-=e*this.config.getSpeed(),this._currentXPos<this.dimensions.totalScrollItemWidth&&(this._currentXPos=this.dimensions.totalScrollItemWidth+this._currentXPos),this.elems.innerContainer.style.transform="translate3d(-"+(this._currentXPos-this.dimensions.totalScrollItemWidth)+"px,0,0)"},fnVerticalBtt:function(e){this._currentYPos+=e*this.config.getSpeed(),this._currentYPos>this.dimensions.totalScrollItemHeight&&(this._currentYPos=this.dimensions.totalScrollItemHeight-this._currentYPos),this.elems.innerContainer.style.transform="translate3d(0, -"+this._currentYPos+"px,0)"},fnVerticalTtb:function(e){this._currentYPos-=e*this.config.getSpeed(),this._currentYPos<this.dimensions.totalScrollItemHeight&&(this._currentYPos=this.dimensions.totalScrollItemHeight+this._currentYPos),this.elems.innerContainer.style.transform="translate3d(0, -"+(this._currentYPos-this.dimensions.totalScrollItemHeight)+"px,0)"}},RssFeedReader={getFeed:function(e){let t=new XMLHttpRequest;try{t.open("GET",e,!1),t.send(null)}catch(e){console.error(e),t=null}return t?t.responseXML:null},getFeedItemData:function(e){const t=this.getFeed(e),i=t?t.getElementsByTagName("item"):null,n=[];if(i&&0<i.length)for(let e=0;e<i.length;e++)n.push({title:0<i[e].getElementsByTagName("title").length?i[e].getElementsByTagName("title")[0].innerHTML:null,link:0<i[e].getElementsByTagName("link").length?i[e].getElementsByTagName("link")[0].innerHTML:null,pubDate:0<i[e].getElementsByTagName("pubDate").length?new Date(i[e].getElementsByTagName("pubDate")[0].innerHTML):null,description:0<i[e].getElementsByTagName("description").length&&i[e].getElementsByTagName("description")[0].firstChild?i[e].getElementsByTagName("description")[0].firstChild.wholeText.trim():null,content:0<i[e].getElementsByTagName("content").length?i[e].getElementsByTagName("content")[0].innerHTML:null});return n},getScrollContentOfFeed:function(e,t="&nbsp;"){const i=this.getFeed(e),n=i?i.getElementsByTagName("item"):null;let o="";if(n&&0<n.length)for(let e=0;e<n.length;e++)o+='<a href="'+n[e].getElementsByTagName("link")[0].innerHTML+'" target="_blank">',o+=n[e].getElementsByTagName("title")[0].innerHTML+"</a>",o+=t;return o}};let hasLicenseTextBeenShown=!1;function Core(root,config){const self=this,events=new Event(this);let fnTick=TickLogic.fnNoScroll.bind(this);this.elems={rootElement:root,shadowRoot:null,container:null,outerWrapper:null,innerContainer:null,scrollItem:null,scrollItemClone:null},this.config=config,this.dimensions={},this._uuid=Util.generateUUID(),this._time=Date.now(),this._rafId=null,this._shouldPlay=!1,this._wasPlaying=!1,this._isInView=!0,this._previousDimensions={width:this.elems.rootElement.offsetWidth,height:this.elems.rootElement.offsetHeight};const listenerWindowResize=()=>{if(this.elems.rootElement.offsetWidth===this._previousDimensions.width&&this.elems.rootElement.offsetHeight===this._previousDimensions.height)return!1;let e=!(this._previousDimensions={width:this.elems.rootElement.offsetWidth,height:this.elems.rootElement.offsetHeight});this._rafId&&(e=!0,window.cancelAnimationFrame(this._rafId),this._rafId=null),this.init(),e&&this.tick()},listenerDocumentVisibilityChange=()=>{!0===document.hidden?this.onOutOfView():this.onIntoView()},listenerElemsContainerMouseEnter=()=>{!0===this.config.pauseonhover&&this.pause()},listenerElemsContainerMouseLeave=()=>{!0===this.config.pauseonhover&&this.play()},observer=new IntersectionObserver((e,t)=>{e=e.length?e[0]:null;e&&(!0===e.isIntersecting?this.onIntoView():this.onOutOfView())},{rootMargin:"0px 0px 20px 0px"});function setup(){switch(self.config.system){case Configuration.SYSTEM_JQUERY:case Configuration.SYSTEM_VANILLA:case Configuration.SYSTEM_WEBCOMPONENT:if(self.elems.shadowRoot=self.elems.rootElement,self.config.type===Configuration.TYPE_VERTICAL){const e=getVertical({instanceId:self._uuid});self.elems.shadowRoot.appendChild(e.content.cloneNode(!0))}else{const t=getHorizontal({instanceId:self._uuid});self.elems.shadowRoot.appendChild(t.content.cloneNode(!0))}self.elems.container=self.elems.shadowRoot.querySelector("div.supermarquee-container"),self.elems.perspective=self.elems.shadowRoot.querySelector("div.supermarquee-perspective:first-child"),self.elems.outerWrapper=self.elems.shadowRoot.querySelector("div.supermarquee-outer-wrapper:first-child"),self.elems.innerContainer=self.elems.shadowRoot.querySelector("div.supermarquee-inner-container:first-child")}self.elems.scrollItem=self.elems.innerContainer.querySelector("div.supermarquee-item:first-child"),self.elems.scrollItemClone=self.elems.innerContainer.querySelector("div.supermarquee-item-clone"),window.addEventListener("resize",listenerWindowResize),document.addEventListener("visibilitychange",listenerDocumentVisibilityChange),self.elems.container.addEventListener("mouseenter",listenerElemsContainerMouseEnter),self.elems.container.addEventListener("mouseleave",listenerElemsContainerMouseLeave),observer.observe(self.elems.container)}setup(),this.init=function(){this.elems.container.style.visibility="hidden";let prevPosition=this.elems.rootElement.style.position;this.elems.rootElement.style.position="initial",this.elems.scrollItem.innerHTML="",this.elems.scrollItemClone.innerHTML="";let scrollContent=this.config.content;if(this.config.rssFeedUrl){const feedItemData=RssFeedReader.getFeedItemData(this.config.rssFeedUrl);if(feedItemData&&0<feedItemData.length){let title,link,pubDate,description,content;for(let fi=0;fi<feedItemData.length;fi++)title=feedItemData[fi].hasOwnProperty("title")&&feedItemData[fi].title?feedItemData[fi].title:"",link=feedItemData[fi].hasOwnProperty("link")&&feedItemData[fi].link?feedItemData[fi].link:"#",pubDate=feedItemData[fi].hasOwnProperty("pubDate")&&feedItemData[fi].pubDate?feedItemData[fi].pubDate:new Date,description=feedItemData[fi].hasOwnProperty("description")&&feedItemData[fi].description?feedItemData[fi].description:"",content=feedItemData[fi].hasOwnProperty("content")&&feedItemData[fi].content?feedItemData[fi].content:"",scrollContent+=eval("`"+this.config.rssFeedTemplate+"`"),scrollContent+=this.config.spacer}}if(Configuration.TYPE_HORIZONTAL===this.config.type){let maxWidth;switch(this.config.mode){case Configuration.MODE_PINGPONG:this.elems.scrollItem.innerHTML+=scrollContent,this.elems.scrollItemClone.innerHTML="",maxWidth="fixed"===prevPosition?window.innerWidth:this.elems.container.clientWidth,this.config._gappedScrollingEnabled=maxWidth<this.elems.scrollItem.clientWidth;break;case Configuration.MODE_GAPPED:this.elems.scrollItem.innerHTML+=scrollContent,this.elems.scrollItem.style.paddingLeft=this.elems.container.clientWidth+"px",this.elems.scrollItemClone.innerHTML="";break;default:case Configuration.MODE_CONTINOUS:for(maxWidth="fixed"===prevPosition?window.innerWidth:this.elems.container.clientWidth;maxWidth>this.elems.scrollItem.clientWidth;)this.elems.scrollItem.innerHTML+=scrollContent;this.elems.scrollItemClone.innerHTML=this.elems.scrollItem.innerHTML}}else{0<=this.elems.scrollItem.getBoundingClientRect().height&&(this.elems.scrollItem.innerHTML="&nbsp;");let maxHeight="fixed"===prevPosition?window.innerHeight:this.elems.container.clientHeight;switch(this.elems.outerWrapper.style.maxHeight=maxHeight+"px",this.elems.scrollItem.innerHTML="",this.config.mode){case Configuration.MODE_PINGPONG:this.elems.scrollItem.innerHTML+=scrollContent,this.elems.scrollItemClone.innerHTML="",maxHeight="fixed"===prevPosition?window.innerHeight:this.elems.container.clientHeight,this.config._gappedScrollingEnabled=maxHeight<this.elems.scrollItem.clientHeight;break;case Configuration.MODE_GAPPED:this.elems.scrollItem.innerHTML+=scrollContent,this.elems.scrollItem.style.paddingTop=this.elems.container.clientHeight+"px",this.elems.scrollItemClone.innerHTML="";break;default:case Configuration.MODE_CONTINOUS:for(maxHeight="fixed"===prevPosition?window.innerHeight:this.elems.container.clientHeight;maxHeight>this.elems.scrollItem.clientHeight;)this.elems.scrollItem.innerHTML+=scrollContent;this.elems.scrollItemClone.innerHTML=this.elems.scrollItem.innerHTML}}switch(this.updatePerspective(),setTimeout(()=>{this.updateDimensions(),this.updateTickLogic(),this.elems.container.style.visibility="visible",this.onIntoView()},100),this._currentXPos=0,this._currentYPos=0,this._pingPongCurrentDirection=0,this._pingPongNextDirection=-1,this._pingPongPauseDelay=self.config.pingPongDelay,this._time=Date.now(),this.config.setPosition(this.config.position),this.config.position){case Configuration.POSITION_FIXEDTOP:this.elems.rootElement.style.position="fixed",this.elems.rootElement.style.removeProperty("left"),this.elems.rootElement.style.removeProperty("top"),this.elems.rootElement.style.removeProperty("bottom"),this.elems.rootElement.style.width="100%",this.elems.rootElement.style.top=0,this.elems.rootElement.style.bottom="initial",this.elems.rootElement.style.left=0;break;case Configuration.POSITION_FIXEDBOTTOM:this.elems.rootElement.style.position="fixed",this.elems.rootElement.style.removeProperty("left"),this.elems.rootElement.style.removeProperty("bottom"),this.elems.rootElement.style.width="100%",this.elems.rootElement.style.top="initial",this.elems.rootElement.style.bottom=0,this.elems.rootElement.style.left=0;break;default:case Configuration.POSITION_CUSTOM:this.elems.rootElement.style.position=prevPosition,this.elems.rootElement.style.removeProperty("position"),this.elems.rootElement.style.removeProperty("left"),this.elems.rootElement.style.removeProperty("top"),this.elems.rootElement.style.removeProperty("bottom")}this.setFader(this.config.fader),!1===this.config.hasLicense()&&window.console&&!1===hasLicenseTextBeenShown&&(hasLicenseTextBeenShown=!0,console.log("%c»SuperMarquee« by SuperPlug.in. Unlicensed version for non commercial use only.","font-family: monospace sans-serif; background-color: #8089ff; color: white;"))}.bind(this),this.updatePerspective=function(){this.elems.perspective.style.perspective=this.config.perspective.z+"px",this.elems.perspective.style.perspectiveOrigin=this.config.perspective.originX+"% "+this.config.perspective.originY+"%",this.elems.outerWrapper.style.transform="rotateX("+this.config.perspective.rotateX+"deg) rotateY("+this.config.perspective.rotateY+"deg) rotateZ("+this.config.perspective.rotateZ+"deg)"}.bind(this),this.getInstanceId=function(){return this._uuid},this.updateTickLogic=function(){if(Configuration.MODE_PINGPONG===self.config.mode)if(!1===self.config._gappedScrollingEnabled)fnTick=TickLogic.fnNoScroll.bind(self);else if(Configuration.TYPE_HORIZONTAL===self.config.type)switch(self.config.direction){case Configuration.DIRECTION_RTL:this._currentXPos=this.dimensions.totalScrollItemWidth-this.dimensions.visibleWidth,this._pingPongCurrentDirection=0,this._pingPongNextDirection=-1,this._pingPongPauseDelay=self.config.pingPongDelay,fnTick=TickLogic.fnHorizontalRtlPingPong.bind(self);break;default:case Configuration.DIRECTION_LTR:this._currentXPos=0,this._pingPongCurrentDirection=0,this._pingPongNextDirection=1,this._pingPongPauseDelay=self.config.pingPongDelay,fnTick=TickLogic.fnHorizontalLtrPingPong.bind(self)}else switch(self.config.direction){case Configuration.DIRECTION_TTB:this._currentYPos=-(this.dimensions.totalScrollItemHeight-this.dimensions.visibleHeight),this._pingPongCurrentDirection=0,this._pingPongNextDirection=-1,this._pingPongPauseDelay=self.config.pingPongDelay,fnTick=TickLogic.fnHorizontalTtbPingPong.bind(self);break;case Configuration.DIRECTION_BTT:this._currentYPos=0,this._pingPongCurrentDirection=0,this._pingPongNextDirection=-1,this._pingPongPauseDelay=self.config.pingPongDelay,fnTick=TickLogic.fnHorizontalBttPingPong.bind(self)}else if(Configuration.TYPE_HORIZONTAL===self.config.type)switch(self.config.direction){case Configuration.DIRECTION_RTL:fnTick=TickLogic.fnHorizontalRtl.bind(self);break;default:case Configuration.DIRECTION_LTR:fnTick=TickLogic.fnHorizontalLtr.bind(self)}else switch(self.config.direction){case Configuration.DIRECTION_TTB:fnTick=TickLogic.fnVerticalTtb.bind(self);break;default:case Configuration.DIRECTION_BTT:fnTick=TickLogic.fnVerticalBtt.bind(self)}}.bind(this),this.updateDimensions=function(){this.dimensions.visibleWidth=this.elems.container.clientWidth,this.dimensions.visibleHeight=this.elems.container.clientHeight,this.dimensions.totalScrollItemWidth=this.elems.scrollItem.offsetWidth,this.dimensions.totalScrollItemHeight=this.elems.scrollItem.offsetHeight}.bind(this),this.tick=function(){var e=Date.now(),t=e-this._time;this._time=e,this._shouldPlay&&fnTick(t),this._rafId=window.requestAnimationFrame(this.tick)}.bind(this),this.getRootElement=function(){return this.elems.rootElement}.bind(this),this.getEvents=function(){return events},this.destroy=function(){this._rafId&&(window.cancelAnimationFrame(this._rafId),this._rafId=null),window.removeEventListener("resize",listenerWindowResize),document.removeEventListener("visibilitychange",listenerDocumentVisibilityChange),this.elems.container.removeEventListener("mouseenter",listenerElemsContainerMouseEnter),this.elems.container.removeEventListener("mouseleave",listenerElemsContainerMouseLeave),observer.unobserve(this.elems.container),this.elems.rootElement.innerHTML=""},this.getScrollContent=function(){return this.config.content}}function SuperMarquee(e,t={}){if(!e||!1==e instanceof HTMLElement)throw new Error("Missing/invalid rootElement: ",e);const i=JSON.parse(JSON.stringify(Configuration.DEFAULT));var n,o;for(o in i)t.hasOwnProperty(o)?i[o]=t[o]:e.hasAttribute("data-"+o)&&(i[o]=e.getAttribute("data-"+o));return i.system=Configuration.SYSTEM_VANILLA,n=new Configuration(i),this._core=new Core(e,n),this._core.init(),setTimeout(()=>{this._core.config.autostart&&this._core.tick()},150),this}return Core.prototype.VERSION="3.0",Core.prototype.play=function(){!(this._shouldPlay=!0)!==this._isInView&&(this._rafId||(this._time=Date.now(),this.tick(),this._wasPlaying=!0))},Core.prototype.pause=function(){this._shouldPlay=!1,this._rafId?(window.cancelAnimationFrame(this._rafId),this._rafId=null,this._wasPlaying=!0):this._wasPlaying=!1},Core.prototype.setPingPongDelay=function(e){let t=+e;t<=0&&(t=Configuration.PINGPONG_DELAY_DEFAULT),this.config.pingPongDelay=t},Core.prototype.setScrollContent=function(e){this.config.setContent(e),this.init()},Core.prototype.setScrollSpeed=function(e){this.config.setSpeed(e)},Core.prototype.setPosition=function(e){this.config.setPosition(e),this.init()},Core.prototype.setPauseOnHover=function(e){this.config.setPauseOnHover(e)},Core.prototype.setPerspective=function(e){this.config.setPerspective(e),this.updatePerspective()},Core.prototype.setFader=function(e){this.config.setFader(e),this.updateFader()},Core.prototype.updateFader=function(){var t={left:"to right",right:"to left",top:"180deg",bottom:"180deg"},i=this.config.type===Configuration.TYPE_HORIZONTAL?["left","right"]:["top","bottom"],n=this.config.fader;this.config.type===Configuration.TYPE_HORIZONTAL?(this.elems.outerWrapper.classList.remove("fader-top-"+this.getInstanceId()),this.elems.outerWrapper.classList.remove("fader-bottom-"+this.getInstanceId())):(this.elems.outerWrapper.classList.remove("fader-left-"+this.getInstanceId()),this.elems.outerWrapper.classList.remove("fader-right-"+this.getInstanceId()));for(let e=0;e<i.length;e++){var o=i[e],s=String(o).charAt(0).toUpperCase()+String(o).slice(1);n[o].size<=0?this.elems.outerWrapper.classList.remove("fader-"+o+"-"+this.getInstanceId()):(this.elems.outerWrapper.classList.add("fader-"+o+"-"+this.getInstanceId()),this.elems.outerWrapper.style.setProperty("--fader"+s,n[o].size+"%"),this.elems.outerWrapper.style.setProperty(`--fader${s}Gradient`,`linear-gradient( ${t[o]}, ${n[o].colorFrom}, ${n[o].colorTo})`))}},Core.prototype.onIntoView=function(){this._isInView=!0,this.play()},Core.prototype.onOutOfView=function(){this._isInView=!1,this.pause()},Core.prototype.destroy=function(){},Core.prototype.Log=function(e,t="info"){console[t](e)},SuperMarquee.getDefaultConfiguration=function(){return JSON.parse(JSON.stringify(Configuration.DEFAULT))},SuperMarquee.prototype.play=function(){this._core.play()},SuperMarquee.prototype.pause=function(){this._core.pause()},SuperMarquee.prototype.setScrollContent=function(e){this._core.setScrollContent(e)},SuperMarquee.prototype.setScrollSpeed=function(e){this._core.setScrollSpeed(e)},SuperMarquee.prototype.getScrollSpeed=function(){return+this._core.config.speed},SuperMarquee.prototype.setPosition=function(e){this._core.setPosition(e)},SuperMarquee.prototype.setPauseOnHover=function(e){this._core.setPauseOnHover(e)},SuperMarquee.prototype.setPerspective=function(e){this._core.setPerspective(e)},SuperMarquee.prototype.setPingPongDelay=function(e){this._core.setPingPongDelay(e)},SuperMarquee.prototype.destroy=function(){this._core.destroy()},SuperMarquee});
